<div class="min-h-screen paper-aged paper-texture relative overflow-hidden">
  <!-- Particules de papier -->
  <div class="fixed inset-0 pointer-events-none z-0">
    @for (particle of particles; track particle) {
      <div 
        class="paper-particle"
        [style.left.%]="particle.left"
        [style.animation-delay.s]="particle.delay"
        [style.width.px]="particle.size"
        [style.height.px]="particle.size">
      </div>
    }
  </div>

  <app-navbar></app-navbar>

  <div class="max-w-7xl mx-auto px-4 py-12 relative z-10">
    <h1 class="text-5xl md:text-6xl font-vintage font-bold text-paper-900 mb-4 text-center drop-shadow-lg">Ã‰vÃ©nements</h1>
    <div class="w-32 h-1 bg-gradient-to-r from-transparent via-green-600 to-transparent mx-auto mb-4"></div>
    <p class="text-xl text-paper-700 text-center mb-12 font-serif italic">CÃ©rÃ©monies, rencontres et moments de partage</p>

    <!-- Tabs -->
    <div class="flex justify-center space-x-4 mb-12">
      <button 
        (click)="filterType = 'upcoming'; loadEvents()"
        [class.bg-green-600]="filterType === 'upcoming'"
        [class.text-white]="filterType === 'upcoming'"
        [class.bg-paper-50]="filterType !== 'upcoming'"
        [class.text-paper-800]="filterType !== 'upcoming'"
        class="px-8 py-3 rounded-xl font-vintage font-semibold border-2 border-green-600 transition-all shadow-paper hover:shadow-paper-lg">
        Ã€ venir
      </button>
      <button 
        (click)="filterType = 'past'; loadEvents()"
        [class.bg-green-600]="filterType === 'past'"
        [class.text-white]="filterType === 'past'"
        [class.bg-paper-50]="filterType !== 'past'"
        [class.text-paper-800]="filterType !== 'past'"
        class="px-8 py-3 rounded-xl font-vintage font-semibold border-2 border-green-600 transition-all shadow-paper hover:shadow-paper-lg">
        PassÃ©s
      </button>
    </div>

    @if (loading) {
      <div class="text-center py-20">
        <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-green-600"></div>
        <p class="mt-4 text-paper-700 font-serif">Chargement des Ã©vÃ©nements...</p>
      </div>
    } @else if (events.length === 0) {
      <div class="text-center py-20 bg-paper-50/95 rounded-2xl border-2 border-paper-300/80 shadow-paper-lg paper-texture">
        <div class="text-6xl mb-4">ğŸ“…</div>
        <h3 class="text-2xl font-vintage font-bold text-paper-900 mb-4">Aucun Ã©vÃ©nement {{ filterType === 'upcoming' ? 'Ã  venir' : 'passÃ©' }}</h3>
      </div>
    } @else {
      <div class="space-y-6">
        @for (event of events; track event.id) {
          <article class="bg-paper-50/95 rounded-2xl shadow-paper-xl p-8 hover:shadow-paper-xl transition-all border-2 border-paper-300/80 paper-texture relative group">
            <div class="absolute top-0 right-0 w-32 h-32 bg-green-500/10 rounded-full blur-3xl"></div>
            <div class="flex items-start space-x-6 relative z-10">
              <div class="flex-shrink-0 w-24 h-24 bg-gradient-to-br from-green-500 to-green-700 rounded-2xl flex flex-col items-center justify-center text-white shadow-paper-lg">
                <div class="text-3xl font-vintage font-bold">{{ getDay(event.event_date) }}</div>
                <div class="text-sm uppercase font-serif">{{ getMonth(event.event_date) }}</div>
              </div>
              <div class="flex-1">
                <h2 class="text-3xl font-vintage font-bold text-paper-900 mb-2">{{ event.title }}</h2>
                @if (event.location) {
                  <p class="text-green-700 font-vintage font-medium mb-3">ğŸ“ {{ event.location }}</p>
                }
                <p class="text-paper-700 leading-relaxed font-serif">{{ event.description }}</p>
              </div>
            </div>
          </article>
        }
      </div>
    }
  </div>
</div>